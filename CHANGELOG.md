# **JustTrain \- 変更履歴**

このプロジェクトの全ての重要な変更を記録します。

バージョニングは [Semantic Versioning](https://semver.org/lang/ja/) に準拠します。

## **\[5.2.1\] \- 2026-02-01 (Stable Release 5\)**

### **Fixed**

* **バグ修正**: 時刻ピッカーや全体レイアウトのレスポンシブ切り替え基準が一部 md: (768px) のままだった箇所を sm: (640px) に統一し、スマホ横画面での表示不具合を解消。

## **\[5.2.0\] \- 2026-02-01**

### **Changed**

* **レスポンシブ調整**: 左右分割レイアウト（2ペイン表示）の適用基準を 768px 以上から **640px 以上** に引き下げ。これにより、iPhone等のスマホ横画面でもPCライクな操作画面が利用可能に。  
* **デザイン調整**: 左ペイン（操作パネル）の幅をスマホ横画面用に最適化（384px → 320px）。

## **\[5.1.1\] \- 2026-02-01 (Stable Release 4\)**

### **Added**

* **操作性改善**: 時刻ピッカーの背景（オーバーレイ）をクリックした際に、選択を確定して閉じる機能を追加。ネイティブアプリに近い操作感を実現。

## **\[5.1.0\] \- 2026-02-01**

### **Changed**

* **レスポンシブ調整**: 横画面かつ縦幅が狭い（500px以下）場合、時刻ピッカーの操作ボタン（OK/キャンセル）を右下から左パネル（時刻表示の下）へ移動させ、画面外へのはみ出しを防止。

## **\[5.0.1\] \- 2026-02-01**

### **Changed**

* **リファクタリング**: コードのクリーンアップを実施。未使用のアイコンインポート削除やフォーマット調整を行い、保守性を向上（機能変更なし）。

## **\[5.0.0\] \- 2026-02-01**

### **Changed**

* **UI改善**: スマホ縦画面（1ペインモード）において、ヘッダー内の時刻表示ボタンと加減算ボタンの幅を最大化（flex-1）。ボタン間の隙間を詰め、タップ領域を広げて操作性を向上。

## **\[4.9.10\] \- 2026-01-31**

### **Fixed**

* **バグ修正**: レスポンシブ切り替え用のクラス名定義とJSX指定の不一致を修正。右ペインに移動すべき要素が表示されない問題を解決。

## **\[4.9.9\] \- 2026-01-31**

### **Fixed**

* **バグ修正**: v4.9.8の変更時に先祖返りしていたレスポンシブ機能（要素移動）を復元。時計ピッカーの色修正と統合。

## **\[4.9.8\] \- 2026-01-31**

### **Changed**

* **デザイン修正**: ダークモード時の時計ピッカー右パネル（アナログ時計側）の背景色を修正し、左パネルや全体のテーマとの一体感を向上。

## **\[4.9.7\] \- 2026-01-31 (Final Adjustments)**

### **Changed**

* **レスポンシブ調整**: 縦幅が狭いときのレイアウト切り替え閾値を最終調整。  
  * タイトル移動: 高さ 720px以下 → 500px以下  
  * スイッチ移動: 高さ 580px以下 → 415px以下  
  * これにより、より狭い画面（ランドスケープ等）でも最適なレイアウトが適用されます。

## **\[4.9.6\] \- 2026-01-31 (Fix Responsive Breakpoints & Visibility)**

### **Fixed**

* **バグ修正**: 縦幅が狭いときに要素が正しく表示されない問題を修正（クラス名の不一致を解消）。

### **Changed**

* **レスポンシブ調整**: レイアウト切り替えの閾値を変更し、より早い段階（720px/580px以下）で最適化された表示に切り替わるように調整。

## **\[4.9.5\] \- 2026-01-31 (Adjust Responsive Breakpoints)**

### **Changed**

* **レスポンシブ調整**: 場所切り替えスイッチが移動するタイミングを調整（高さ480px以下→400px以下）。

## **\[4.9.4\] \- 2026-01-31 (Strict Height & Remove Padding)**

### **Fixed**

* **レイアウト修正**: モバイルブラウザでの下部余白（黒い帯）を解消するため、min-h-screen を h-\[100dvh\] に変更し、全体スクロールを禁止。リスト部分のみスクロールするように構造を変更。

## **\[4.9.3\] \- 2026-01-31 (Fix Bottom Gap & Viewport)**

### **Fixed**

* **レイアウト修正**: コンテンツ下部のパディングを最小限（pb-6）に削減。  
* **設定変更**: html, body に背景色を設定し、バウンス時の白帯を防止。

## **\[4.9.2\] \- 2026-01-31 (Fix Reference Error 2\)**

### **Fixed**

* **バグ修正**: LocationSwitcher 呼び出し時の onLocationChange 未定義エラーを修正。

## **\[4.9.1\] \- 2026-01-31 (Fix Layout Padding 2\)**

### **Fixed**

* **レイアウト修正**: ルート要素の余剰なパディングを削除し、リストエリアの下部余白を最適化。

## **\[4.9.0\] \- 2026-01-31 (Fix Layout Padding & Margins)**

### **Fixed**

* **レイアウト修正**: 右ペインに残っていた固定の巨大な余白（pb-40）を削除し、画面サイズに応じた適切な余白に調整。

## **\[4.8.2\] \- 2026-01-31 (Optimize Landscape Padding)**

### **Changed**

* **レスポンシブ調整**: 縦幅が狭いPCレイアウト時に、右ペインの下部余白を最小限（1rem）に縮小するクラスを追加。

## **\[4.8.1\] \- 2026-01-31 (Fix Babel Error & Padding)**

### **Fixed**

* **バグ修正**: Babel Standaloneのバージョンを固定し、esmodules 設定エラーを回避。  
* **レイアウト修正**: コンテンツ下部のパディングを適切なサイズ（モバイル: pb-24, PC: pb-16）に調整。

## **\[4.8.0\] \- 2026-01-31 (Optimize Bottom Padding)**

### **Changed**

* **レイアウト調整**: リスト下部の余白を削減（モバイル: pb-20, PC: pb-10）し、画面下部までコンテンツを表示。

## **\[4.7.1\] \- 2026-01-31 (Fix Reference Error)**

### **Fixed**

* **バグ修正**: LocationSwitcher コンポーネントへのprops渡し忘れ（ReferenceError）を修正。

## **\[4.7.0\] \- 2026-01-31 (Progressive Responsive Layout)**

### **Changed**

* **レスポンシブ調整**: 縦幅縮小時のレイアウト変更を段階的に適用（Lv1: タイトル移動, Lv2: スイッチ移動）。  
* **コンポーネント化**: LocationSwitcher を分離し再利用可能に。

## **\[4.6.0\] \- 2026-01-31 (Responsive Location Switcher)**

### **Changed**

* **レスポンシブ対応**: 縦幅が狭い場合、場所切り替えスイッチを左ペインから右ペイン（タイトル下）へ移動する機能を追加。

## **\[4.5.1\] \- 2026-01-31 (Fix Bottom Padding)**

### **Fixed**

* **レイアウト修正**: リスト最下部が見切れる問題を修正するため、下部パディングを増量（pb-40）。ルート要素のパディング干渉を解消。

## **\[4.5.0\] \- 2026-01-31 (Landscape Optimization)**

### **Added**

* **レスポンシブ対応**: スマホ横画面など縦幅が狭い環境向けに、タイトルを右ペインに移動させる「逃げ道」レイアウトを実装。  
* **コンポーネント化**: AppTitle を分離し、左右ペインで共有可能に。

## **\[4.4.0\] \- 2026-01-31 (ClockPicker Landscape Layout)**

### **Changed**

* **UI改善**: アナログ時計ピッカーをレスポンシブ対応。横画面・PC時には「左:デジタル時計 / 右:アナログ時計+ボタン」の横長レイアウトに変形するように変更。

## **\[4.3.1\] \- 2026-01-31 (Fix Layout Padding)**

### **Fixed**

* **レイアウト修正**: リスト最下部が見切れる問題を修正するため、コンテンツエリアの下部パディングを追加（pb-32）。

## **\[4.3.0\] \- 2026-01-31 (Responsive Layout)**

### **Changed**

* **UI改善**: PC・タブレット・スマホ横画面（幅768px以上）において、画面を左右に分割する2カラムレイアウトを実装。  
  * 左: 操作パネル（固定）  
  * 右: 時刻表リスト（スクロール）

## **\[4.2.0\] \- 2026-01-31 (Single File PWA)**

### **Changed**

* **構成変更**: manifest.json と service-worker.js の機能を index.html 内部に統合（動的注入）。  
  * これにより、アプリの配布・管理が index.html とアイコン画像ファイルのみで完結するように簡素化されました。  
  * PWAとしての機能（ホーム画面への追加、オフラインキャッシュ）は維持されます。

## **\[4.1.5\] \- 2026-01-31 (Fix Icon Reference)**

### **Fixed**

* **バグ修正**: Headerコンポーネントに残っていた TrainFront アイコンの使用箇所を Train に修正し、ReferenceError を解消。

## **\[4.1.4\] \- 2026-01-31 (Add Favicon)**

### **Added**

* **アイコン追加**: Favicon設定 (icon-32.png) を追加。

## **\[4.1.3\] \- 2026-01-31 (Update Icon Settings)**

### **Changed**

* **アイコン設定**: iOS用の apple-touch-icon を推奨サイズの 180x180 (icon-180.png) に変更。

## **\[4.1.2\] \- 2026-01-31 (PWA Support)**

### **Added**

* **PWA化**: PWA対応タグとService Worker登録処理を追加。

## **\[4.1.1\] \- 2026-01-31 (Fix Icon Error)**

### **Fixed**

* **バグ修正**: 存在しないアイコン TrainFront を Train に置換しエラーを修正。

## **\[4.1.0\] \- 2026-01-31 (Rebranded)**

### **Changed**

* **リブランディング**: アプリ名を "JustTrain" に変更。ヘッダーアイコンを電車マークに変更。

## **\[4.0.0\] \- 2026-01-31 (Stable Release 3\)**

### **Added**

* **安定版リリース**: v1.0.0以降の大幅なUI刷新と機能追加を統合し、メジャーアップデートとしてリリース。

### **Changed**

* **UIの大幅刷新**:  
  * **路線カラーの適用**: 出発駅コード（mN, mI）に基づき、南北線エメラルドと三田線ブルーを動的に適用。カード背景色やアクセントに使用。  
  * **カードデザイン**: 視認性を重視し、時刻・種別枠、行き先、到着時刻の配置を最適化。  
  * **優先度低（/❌）の表示**: ストライプ背景と濃いグレーの枠で区別し、視認性を確保（文字色は通常色に戻し、コントラストを維持）。  
  * **控えめデザイン（InfoRow）**: 「参考情報」セクション用のコンパクトな行デザインを採用。  
* **データ表示の最適化**:  
  * **行き先名**: 路線コード（\_以前）と末尾の「駅」を自動削除し、シンプルに表示。  
  * **コメント表示**: 優先度が低い理由などを表示するため、Notionのコメントプロパティを表示に追加。  
  * **フィルタリング**: Type プロパティが「退勤」のデータのみを表示するように制限。  
* **操作性の向上**:  
  * **アナログ時計ピッカー**: 24時間対応、ドラッグ操作、動的レイアウト変更を実装。  
  * **ヘッダーUI**: 微調整ボタン（+/- 1, 5分）の配置と色分けを最適化。  
  * **場所モード切替**: 「オフィス（10-15分）」と「駅の近く」を切り替えるトグルボタンを実装（状態保存なし、デフォルトはオフィス）。  
* **ダークモード完全対応**:  
  * デフォルト設定をOS追従に変更。  
  * 路線カラーの視認性向上のため、ダークモード専用の明るいカラーパレットを定義。  
  * アプリ背景色をより深い色（Slate-950）に変更し、没入感とコントラストを向上。

## **\[3.8.1\] \- 2026-01-31**

### **Changed**

* **視認性向上**: オフィスモードの「参考情報」カード（InfoRow）に表示される出発時刻のデザインを、枠線付き・太字に変更して強調。

## **\[3.8.0\] \- 2026-01-31 (Refactored)**

### **Changed**

* **リファクタリング**: useTrainStyle フックへのスタイルロジック集約、ヘッダーボタン生成の共通化などを実施。

## **\[3.7.0\] \- 2026-01-31**

### **Added**

* **機能拡張**: オフィスモードの「参考情報」にも出発時刻の表示を追加。

### **Changed**

* **設定復元**: オフィスモードの時間区切りを元の設定（15-30分 / 30-60分）に戻す。

## **\[3.6.0\] \- 2026-01-31**

### **Changed**

* **設定変更**: オフィスモードの時間区切りを一時的に変更（15-45分 / 46-60分）。

## **\[3.5.1\] \- 2026-01-31**

### **Changed**

* **デザイン調整**: カード内の文字サイズ拡大を取りやめ、標準サイズ（v3.2.0相当）に戻す。出発時刻の非表示ロジックは維持。

## **\[3.5.0\] \- 2026-01-31**

### **Changed**

* **デザイン分岐**: 「余裕を持って間に合う」以外のカテゴリではオフィス出発時刻を表示せず、代わりに他の情報を大きく表示するよう変更。

## **\[3.4.0\] \- 2026-01-31**

### **Changed**

* **レイアウト変更**: カード内の要素配置を「種別・発車 → あとXX分 → 出発時刻 → 行き先」の順に入れ替え。  
* **表示制御**: 「急げば間に合う」カテゴリではオフィス出発時刻を表示しないように変更。

## **\[3.3.0\] \- 2026-01-31**

### **Added**

* **機能拡張**: オフィスモードのカード内に「オフィス出発時刻」を表示する枠を追加。

## **\[3.2.1\] \- 2026-01-31**

### **Changed**

* **ダークモード調整**: ヘッダーの時刻操作ボタン（±5分）の色を暗めに調整し、眩しさを軽減。

## **\[3.2.0\] \- 2026-01-31**

### **Changed**

* **ダークモード調整**: カード背景色の透過率を上げ（0.15→0.30）、路線カラーを明るく変更して判別性を向上。

## **\[3.1.1\] \- 2026-01-31**

### **Changed**

* **ダークモード調整**: アプリ全体の背景色を Slate-950 に変更し、コントラストを強化。

## **\[3.1.0\] \- 2026-01-31**

### **Changed**

* **ダークモード設定**: 初期設定を「端末設定に追従」に変更。  
* **配色調整**: ダークモード時の路線カラーを明るめに調整。

## **\[3.0.0\] \- 2026-01-31**

### **Added**

* **ダークモード実装**: テーマ切替機能と配色の全面的な見直し。

## **\[2.1.4\] \- 2026-01-31**

### **Fixed**

* **バグ修正**: データ0件時にカテゴリタイトルが表示されない問題を修正。

## **\[2.1.3\] \- 2026-01-31**

### **Fixed**

* **視認性修正**: 優先度低カードの文字色が背景と同化する問題を修正。

## **\[2.1.2\] \- 2026-01-31**

### **Fixed**

* **デザイン修正**: 優先度低カードの背景色が濃くなりすぎていた問題を修正（枠のみ濃くする仕様へ戻す）。

## **\[2.1.1\] \- 2026-01-31**

### **Fixed**

* **バグ修正**: リファクタリング時のコード欠落（ReferenceError）を修正。

## **\[2.1.0\] \- 2026-01-31 (Refactored)**

### **Changed**

* **リファクタリング**: 共通スタイルロジックの統合とコンポーネント分割を実施。

## **\[2.0.0\] \- 2026-01-31 (Stable Release 2\)**

### **Added**

* **安定版リリース**: UI刷新と機能拡張を統合。

## **\[1.19.0\] \- 2026-01-31**

### **Added**

* **フィルタリング**: 「退勤」データのみ表示。

## **\[1.18.0\] \- 2026-01-31**

### **Changed**

* **視認性改善**: InfoRowの数字色を濃いグレーに変更。

## **\[1.17.0\] \- 2026-01-31**

### **Added**

* **コメント表示**: カード下部にコメントを表示。

## **\[1.16.0\] \- 2026-01-31**

### **Changed**

* **デザイン調整**: 背景色の路線カラー濃度アップ。

## **\[1.15.0\] \- 2026-01-31**

### **Changed**

* **表示整形**: 行き先駅名の「駅」を削除。

## **\[1.14.0\] \- 2026-01-31**

### **Fixed**

* **視認性修正**: 優先度低カードの文字色修正。

## **\[1.13.0\] \- 2026-01-31**

### **Changed**

* **視認性改善**: InfoRowのフォントサイズ拡大。

## **\[1.12.0\] \- 2026-01-31**

### **Fixed**

* **視認性修正**: 優先度低カードの文字色修正。

## **\[1.11.0\] \- 2026-01-31**

### **Changed**

* **表示整形**: 路線コード削除、「行」追加。

## **\[1.10.0\] \- 2026-01-31**

### **Changed**

* **デザイン調整**: 優先度低カードのデザイン変更。

## **\[1.9.0\] \- 2026-01-31**

### **Changed**

* **デザイン変更**: 優先度低カードをダークテーマ風に。

## **\[1.8.0\] \- 2026-01-31**

### **Added**

* **種別カラー**: 種別枠への色反映。

## **\[1.7.0\] \- 2026-01-31**

### **Changed**

* **レイアウト調整**: InfoRowの種別・時刻枠統合。

## **\[1.6.0\] \- 2026-01-31**

### **Added**

* **優先度低表示**: 斜線ストライプ追加。

## **\[1.5.0\] \- 2026-01-31**

### **Changed**

* **デザイン調整**: InfoRowのデザイン変更。

## **\[1.4.0\] \- 2026-01-31**

### **Changed**

* **デザイン調整**: InfoRowの背景色変更。

## **\[1.3.1\] \- 2026-01-31**

### **Fixed**

* **エラーハンドリング**: CORSエラー対応。

## **\[1.3.0\] \- 2026-01-31**

### **Added**

* **デザイン差別化**: InfoRow追加。

## **\[1.2.0\] \- 2026-01-31**

### **Added**

* **UI刷新**: 路線カラー対応カード。

## **\[1.1.0\] \- 2026-01-31 (Refactored)**

### **Changed**

* **リファクタリング**: ロジック分離。

## **\[1.0.0\] \- 2026-01-31 (Stable Release)**

### **Added**

* **安定版リリース**: 初期リリース。

## **\[0.16.0\] \- 2026-01-31**

### **Changed**

* **モード初期化変更**: 常にオフィスモードで起動。

## **\[0.15.0\] \- 2026-01-31**

### **Changed**

* **UI文言変更**: 「すぐ来る」に変更。

## **\[0.14.0\] \- 2026-01-31**

### **Changed**

* **レイアウト調整**: トグルボタン分離。

## **\[0.13.0\] \- 2026-01-31**

### **Added**

* **場所モード切替**: オフィス/駅近モード実装。

## **\[0.12.0\] \- 2026-01-31**

### **Added**

* **設定永続化**: LocalStorage対応。

## **\[0.11.0\] \- 2026-01-31**

### **Changed**

* **UI改善**: ヘッダーボタン最適化。

## **\[0.10.0\] \- 2026-01-31**

### **Changed**

* **UI改善**: 時刻操作ボタン変更。

## **\[0.9.0\] \- 2026-01-31**

### **Changed**

* **ピッカー操作性向上**: ドラッグ対応、レイアウト動的変更。

## **\[0.8.0\] \- 2026-01-31**

### **Added**

* **ドラッグ操作対応**: アナログ時計ピッカー。

## **\[0.7.0\] \- 2026-01-31**

### **Changed**

* **24時間対応UI**: アナログ時計ピッカー2重円盤化。

## **\[0.6.0\] \- 2026-01-31**

### **Fixed**

* **UI修正**: ピッカー視認性向上。

## **\[0.5.0\] \- 2026-01-31**

### **Fixed**

* **バグ修正**: ピッカー時刻リセット問題修正。

## **\[0.4.0\] \- 2026-01-31**

### **Added**

* **アナログ時計ピッカー**: 実装。

## **\[0.3.1\] \- 2026-01-31**

### **Fixed**

* **UI修正**: 時刻入力フォーム幅調整。

## **\[0.3.0\] \- 2026-01-31**

### **Added**

* **機能追加**: リアルタイム更新、フィルタリング、マニュアルモード。

## **\[0.2.0\] \- 2026-01-31**

### **Changed**

* **データ構造対応**: 日本語プロパティ名対応。

## **\[0.1.0\] \- 2026-01-31**

### **Added**

* **開発開始**: Notion連携基本機能。

## **\[0.0.0\] \- 2026-01-31**

### **Added**

* **プロトタイプ**: 初期構成案。